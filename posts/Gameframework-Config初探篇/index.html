<!DOCTYPE html>
<html><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate">
  <title>Gameframework-Config初探篇 &middot; 星空城下无君王</title>
  <meta name="keywords" content="星空城下无君王, GF教程, ET教程, XLua教程, Unity游戏开发教程">
  <meta name="description" content="DaveAnt的游戏开发分享站">
  <meta name="author" content="DaveAnt">
  <link rel="icon" type="image/png" href="https://daveant.github.io/favicon.ico">
  <link rel="stylesheet" href="/css/diaspora.css">
  <link rel="stylesheet" href="/css/insight.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="stylesheet" href="/css/waifu.css">
  <link rel="stylesheet" href="/css/qplayer.css">
  <link rel="stylesheet" href="/css/qplayer.init.css">
  <script src="/js/qplayer.js"></script>
  <script src="/js/qplayer.init.js"></script>  
</head>
<div class="waifu">
<div class="waifu-tips"></div>
<div class="waifu-tool">
    <span class="fui-home"></span>
    <span class="fui-top"></span>
    <span class="fui-chat"></span>
    <span class="fui-user"></span>
    <span class="fui-eye"></span>
    <span class="fui-cross"></span>
</div>
</div><body class="loading">
        <div id="loading"></div>
				<div id="nav"></div>
				<div class="nav-user"></div>
	
	
	
	
	
	
		<div class="toc-container" id="single">
		    <div class="toc">
				<aside class="toc-list">
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#%e5%89%8d%e8%a8%80">
				                            前言
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#1txt%e9%85%8d%e7%bd%ae%e8%be%85%e5%8a%a9%e5%99%a8">
				                            1.txt配置辅助器
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#2%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e9%85%8d%e7%bd%ae%e6%a8%a1%e5%9d%97">
				                            2.如何使用配置模块？
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#3%e5%a6%82%e4%bd%95%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae%e6%a8%a1%e5%9d%97">
				                            3.如何修改配置模块？
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#4%e5%ad%97%e5%85%b8value%e5%80%bc%e5%88%86%e6%9e%90">
				                            4.字典Value值分析
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				</aside>
		    </div>
		</div>
	

    <div id="single">
    <div id="top" style="display: block;">
        <div class="bar">
        </div>
        <a title="返回首页" class="icon-home" href="javascript:history.back()"></a>
        <div title="播放/暂停" class="icon-play">
        </div>
        
        <h3 class="subtitle" style="display: none;">
        Gameframework-Config初探篇</h3>
        <div class="social">
            <div>
                <div class="share">
                    <a title="打赏作者[微信]" class="icon-wechat" href="javascript:;"></a>
                    <a title="打赏作者[支付宝]" class="icon-alipay" href="javascript:;"></a>
                </div>
                <div id="wechatpay"> <img src="/img/inner/wechatpay.jpg"/> </div>
                <div id="alipay"> <img src="/img/inner/alipay.jpg"/> </div>
            </div>
        </div>
        <div class="scrollbar" style="width: 1.1636%;"></div>
    </div>
    <div class="section">
        <div class="article">
            <div style="background:transparent;background-color:rgba(255,255,255,0.8);">
                <h1 class="title">
                Gameframework-Config初探篇</h1>
                <div class="stuff">
                    <span>April 6, 2020</span>
                    <span>字数 3114</span>
                                  
                    <span id="/posts/Gameframework-Config初探篇/" class="leancloud_visitors" data-flag-title="Gameframework-Config初探篇">
                        <i class="leancloud-visitors-count">极速模式</i>
                    </span>
                    
                </div>
                <div class="content">
                    <!--cover: /img/title/Gameframework/wallhaven_15.jpg
cover: https://pics.images.ac.cn/image/5eb55130e826a.html-->
<h2 id="前言">前言</h2>
<blockquote>
<p>听过游戏数值策划岗位的,都知道他们是为了游戏数值的平衡和制定,游戏中各种公式的设计,以及整个系统平衡的搭建。当然策划可以不必懂编程或需要编程,但配置信息程序猿是不需要干涉的,所以游戏需要可配置的(为了热更新、程序便于维护和分工明确),思考一下如果直接把数值写死在代码中感觉好傻的(别的不说了,策划每次要改数值,还要告诉程序去改),程序和数值分开是很好的习惯,接下来看看GF框架的配置模块做了些什么？</p>
</blockquote>
<h2 id="1txt配置辅助器">1.txt配置辅助器</h2>
<p>看过网站上GF架构思路文章的伙伴,应该知道学习GF模块时可以从默认辅助器下手,毕竟模块管理器持有模块辅助器去实现各种功能的,然后模块组件持有模块管理器去实际的调用(阿勒,这么又说一遍了&hellip;),所以直接来看看DefaultConfigHelper(自定义的配置辅助器),以后在配置扩展篇里会考虑实现xlsx或json的辅助器(比较偏向于xlsx,因为execl比json可视化软件更加普遍和便于修改),工程下的默认配置辅助器是txt格式的,接下来先展示一下代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> GameFramework;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> GameFramework.Config;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.IO;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Text;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> UnityEngine;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> UnityGameFramework.Runtime
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// 默认全局配置辅助器。</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DefaultConfigHelper</span> : ConfigHelperBase
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">readonly</span> <span style="color:#66d9ef">string</span>[] RowSplitSeparator = <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">string</span>[] { <span style="color:#e6db74">&#34;\r\n&#34;</span>, <span style="color:#e6db74">&#34;\r&#34;</span>, <span style="color:#e6db74">&#34;\n&#34;</span> };
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">readonly</span> <span style="color:#66d9ef">string</span>[] ColumnSplitSeparator = <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">string</span>[] { <span style="color:#e6db74">&#34;\t&#34;</span> };
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> ColumnCount = <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> ResourceComponent m_ResourceComponent = <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> IConfigManager m_ConfigManager = <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// 解析全局配置。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">bool</span> ParseConfig(<span style="color:#66d9ef">string</span> text, <span style="color:#66d9ef">object</span> userData)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">string</span>[] rowTexts = text.Split(RowSplitSeparator, StringSplitOptions.None);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; rowTexts.Length; i++)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (rowTexts[i].Length &lt;= <span style="color:#ae81ff">0</span> || rowTexts[i][<span style="color:#ae81ff">0</span>] == <span style="color:#e6db74">&#39;#&#39;</span>)
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">string</span>[] splitLine = rowTexts[i].Split(ColumnSplitSeparator, StringSplitOptions.None);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (splitLine.Length != ColumnCount)
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        Log.Warning(<span style="color:#e6db74">&#34;Can not parse config &#39;{0}&#39;.&#34;</span>, text);
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">string</span> configName = splitLine[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">string</span> configValue = splitLine[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (!AddConfig(configName, configValue))
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        Log.Warning(<span style="color:#e6db74">&#34;Can not add raw string with config name &#39;{0}&#39; which may be invalid or duplicate.&#34;</span>, configName);
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">catch</span> (Exception exception)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                Log.Warning(<span style="color:#e6db74">&#34;Can not parse config &#39;{0}&#39; with exception &#39;{1}&#39;.&#34;</span>, text, exception.ToString());
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// 解析全局配置。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">bool</span> ParseConfig(<span style="color:#66d9ef">byte</span>[] bytes, <span style="color:#66d9ef">object</span> userData)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">using</span> (MemoryStream memoryStream = <span style="color:#66d9ef">new</span> MemoryStream(bytes, <span style="color:#66d9ef">false</span>))
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> ParseConfig(memoryStream, userData);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// 解析全局配置。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">bool</span> ParseConfig(Stream stream, <span style="color:#66d9ef">object</span> userData)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">using</span> (BinaryReader binaryReader = <span style="color:#66d9ef">new</span> BinaryReader(stream, Encoding.UTF8))
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">while</span> (binaryReader.BaseStream.Position &lt; binaryReader.BaseStream.Length)
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">string</span> configName = binaryReader.ReadString();
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">string</span> configValue = binaryReader.ReadString();
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span> (!AddConfig(configName, configValue))
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            Log.Warning(<span style="color:#e6db74">&#34;Can not add raw string with config name &#39;{0}&#39; which may be invalid or duplicate.&#34;</span>, configName);
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">catch</span> (Exception exception)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                Log.Warning(<span style="color:#e6db74">&#34;Can not parse config with exception &#39;{0}&#39;.&#34;</span>, exception.ToString());
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// 释放全局配置资源。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">void</span> ReleaseConfigAsset(<span style="color:#66d9ef">object</span> configAsset)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            m_ResourceComponent.UnloadAsset(configAsset);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// 加载全局配置。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">bool</span> LoadConfig(<span style="color:#66d9ef">string</span> configName, <span style="color:#66d9ef">object</span> configAsset, LoadType loadType, <span style="color:#66d9ef">object</span> userData)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            TextAsset textAsset = configAsset <span style="color:#66d9ef">as</span> TextAsset;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (textAsset == <span style="color:#66d9ef">null</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                Log.Warning(<span style="color:#e6db74">&#34;Config asset &#39;{0}&#39; is invalid.&#34;</span>, configName);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">bool</span> retVal = <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">switch</span> (loadType)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> LoadType.Text:
</span></span><span style="display:flex;"><span>                    retVal = m_ConfigManager.ParseConfig(textAsset.text, userData);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> LoadType.Bytes:
</span></span><span style="display:flex;"><span>                    retVal = m_ConfigManager.ParseConfig(textAsset.bytes, userData);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> LoadType.Stream:
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">using</span> (MemoryStream stream = <span style="color:#66d9ef">new</span> MemoryStream(textAsset.bytes, <span style="color:#66d9ef">false</span>))
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        retVal = m_ConfigManager.ParseConfig(stream, userData);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>                    Log.Warning(<span style="color:#e6db74">&#34;Unknown load type.&#34;</span>);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (!retVal)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                Log.Warning(<span style="color:#e6db74">&#34;Config asset &#39;{0}&#39; parse failure.&#34;</span>, configName);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> retVal;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// 增加指定全局配置项。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">bool</span> AddConfig(<span style="color:#66d9ef">string</span> configName, <span style="color:#66d9ef">string</span> configValue)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">bool</span> boolValue = <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">bool</span>.TryParse(configValue, <span style="color:#66d9ef">out</span> boolValue);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> intValue = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span>.TryParse(configValue, <span style="color:#66d9ef">out</span> intValue);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">float</span> floatValue = <span style="color:#ae81ff">0f</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">float</span>.TryParse(configValue, <span style="color:#66d9ef">out</span> floatValue);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> AddConfig(configName, boolValue, intValue, floatValue, configValue);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// 增加指定全局配置项。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">bool</span> AddConfig(<span style="color:#66d9ef">string</span> configName, <span style="color:#66d9ef">bool</span> boolValue, <span style="color:#66d9ef">int</span> intValue, <span style="color:#66d9ef">float</span> floatValue, <span style="color:#66d9ef">string</span> stringValue)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> m_ConfigManager.AddConfig(configName, boolValue, intValue, floatValue, stringValue);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> Start()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            m_ResourceComponent = GameEntry.GetComponent&lt;ResourceComponent&gt;();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (m_ResourceComponent == <span style="color:#66d9ef">null</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                Log.Fatal(<span style="color:#e6db74">&#34;Resource component is invalid.&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            m_ConfigManager = GameFrameworkEntry.GetModule&lt;IConfigManager&gt;();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (m_ConfigManager == <span style="color:#66d9ef">null</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                Log.Fatal(<span style="color:#e6db74">&#34;Config manager is invalid.&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>看到配置辅助器需要实现两个函数:AddConfig(解析成功的数值保存到字典中)和LoadConfig(读取配置文件),也就是说添加xlsx配置辅助器时主要重写这两个方法,打开工程下txt配置文件查看格式是什么样子的,DefaultConfig配置文件如下所示:</p>
<pre tabindex="0"><code>#   默认配置        
#   配置项 策划备注    配置值
    Game.Id     Star Force
    Scene.Menu      1
    Scene.Main      2
</code></pre><p>如果感觉自定义配置辅助器比较麻烦,想直接使用GF提供的默认配置辅助器就需要按照格式定义txt内容,这里空格加Tab或回车键表示数据的分割,只不过同行数据不要回车分割(txt没有xlsx格式直观,毕竟xlsx可以用execl打开),这样看起来会很累。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">readonly</span> <span style="color:#66d9ef">string</span>[] RowSplitSeparator = <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">string</span>[] { <span style="color:#e6db74">&#34;\r\n&#34;</span>, <span style="color:#e6db74">&#34;\r&#34;</span>, <span style="color:#e6db74">&#34;\n&#34;</span> };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">readonly</span> <span style="color:#66d9ef">string</span>[] ColumnSplitSeparator = <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">string</span>[] { <span style="color:#e6db74">&#34;\t&#34;</span> };
</span></span></code></pre></div><h2 id="2如何使用配置模块">2.如何使用配置模块？</h2>
<p>数据保存到字典应该如何取用呢？可以先看一下数据是如何保存就到字典的,就可以知道数据取用的方式(虽然有封装好的接口),具体保存的代码如下:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">bool</span> AddConfig(<span style="color:#66d9ef">string</span> configName, <span style="color:#66d9ef">bool</span> boolValue, <span style="color:#66d9ef">int</span> intValue, <span style="color:#66d9ef">float</span> floatValue, <span style="color:#66d9ef">string</span> stringValue)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (HasConfig(configName))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        m_ConfigDatas.Add(configName, <span style="color:#66d9ef">new</span> ConfigData(boolValue, intValue, floatValue, stringValue));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>configName是key,ConfigData(多数据组合类)是value,把读出来的数据这样保存感觉怪怪的,思考了一下好像确实没有更好的解决方案,比如在配置时这个key只是表示int型的,却多保存了其他数据,取用时还需要告诉它具体调用的函数类型,做法感觉不太智能,比如取用Int数据时需要调用这种代码:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>    GameEntry.Config.GetInt(<span style="color:#e6db74">&#34;Scene.Menu&#34;</span>)
</span></span></code></pre></div><p>写框架目的就是提供给使用者大量便捷途径,但是配置模块用着确实不太理想(在下不是处女座的,不要误会。en&hellip;处女座的也不要误会),小节三来考虑一下比较好的处理方式,当然有更好的想法希望各位可以传授给我(ありがとうございます)。</p>
<h2 id="3如何修改配置模块">3.如何修改配置模块？</h2>
<p>首先需要分析问题,知道具体的敌人是谁才可以击败敌人,所以第一个问题就是如何实现保存不同值类型集合的功能？第二个问题就是取用数据时如何统一接口去调用？(不需要使用取用int型时调用getint,取用string型时调用getstring这样子)。</p>
<ul>
<li>如何保存不同值类型到字典？<br>
首先需要知道的就是使用泛型是不可以的,因为每个数据都可能不相同(不可能t,t1,t2这样子去搞,在下也不是这样的人),所以只能用到拆箱装箱的方式,也就是object,这样就解决了第一个问题,具体实现将在进阶篇里实现,字典将调整成这样：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>   Dictionary&lt;<span style="color:#66d9ef">string</span>,<span style="color:#66d9ef">dynamic</span>&gt; 
</span></span></code></pre></div><ul>
<li>如何统一接口？<br>
需要智能识别数值类型的话,就必须在读取数据时确定数值类型,确定方式和工程下使用的接口一样,比如字符串是不是int类型的,可以使用int.TryParse接口去判断,如果string不符合int类型格式将会返回false,然后将数值直接赋值给dynamic保存到字典中即可。但是信息还是不全的,还需要保存每个数据的type,这个type有可能会被使用到(当然不加type不影响功能实现,dynamic底层原理和object一样,但是不必去拆箱和装箱了)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ConfigData</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">dynamic</span> data;
</span></span><span style="display:flex;"><span>        Type type;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>对数据结构不太熟悉可能会有疑问(虽然我也不是太熟悉&hellip;),为什么不定义成结构体反而定义成了类？(结构体性能不是比类好嘛),可以去百度C#中字典的value保存值类型还是引用类型比较好(其实字典底层原理是哈希表,当值类型保存到value时,会出现拆箱和装箱的操作,在下深受其害,虽然没有具体对比过性能差别),所以最终字典改成如下所示:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>   Dictionary&lt;<span style="color:#66d9ef">string</span>,ConfigData&gt; 
</span></span></code></pre></div><p>解决问题的思路差不多就这样了,具体的实现方案将在以后文章完成~</p>
<h2 id="4字典value值分析">4.字典Value值分析</h2>
<p>还是去用代码验证一下性能比较靠谱,毕竟不以结婚为目标的谈恋爱都是耍流氓,这里直接给出验证性能的代码给各位看一下:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CData</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> CData(<span style="color:#66d9ef">int</span> num,<span style="color:#66d9ef">string</span> name)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.num = num;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.name = name;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">SData</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> SData(<span style="color:#66d9ef">int</span> num, <span style="color:#66d9ef">string</span> name)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.num = num;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.name = name;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Program</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> Main(<span style="color:#66d9ef">string</span>[] args)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Dictionary&lt;<span style="color:#66d9ef">string</span>, SData&gt; s_dic = <span style="color:#66d9ef">new</span> Dictionary&lt;<span style="color:#66d9ef">string</span>, SData&gt;();
</span></span><span style="display:flex;"><span>            Dictionary&lt;<span style="color:#66d9ef">string</span>, CData&gt; c_dic = <span style="color:#66d9ef">new</span> Dictionary&lt;<span style="color:#66d9ef">string</span>, CData&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            CData[] cDatas = <span style="color:#66d9ef">new</span> CData[<span style="color:#ae81ff">10000000</span>];
</span></span><span style="display:flex;"><span>            SData[] sDatas = <span style="color:#66d9ef">new</span> SData[<span style="color:#ae81ff">10000000</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            SData sData;
</span></span><span style="display:flex;"><span>            CData cData;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            Stopwatch stopwatch = <span style="color:#66d9ef">new</span> Stopwatch();
</span></span><span style="display:flex;"><span>            stopwatch.Start(); <span style="color:#75715e">//  开始监视代码运行时间</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">10000000</span>; i++)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                sDatas[i] = <span style="color:#66d9ef">new</span> SData(i, i.ToString());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            stopwatch.Stop(); <span style="color:#75715e">//  停止监视</span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;new-结构体耗时:&#34;</span> + stopwatch.Elapsed.TotalMilliseconds);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            stopwatch.Restart(); <span style="color:#75715e">//  开始监视代码运行时间</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">10000000</span>; i++)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                cDatas[i] = <span style="color:#66d9ef">new</span> CData(i, i.ToString());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            stopwatch.Stop(); <span style="color:#75715e">//  停止监视</span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;new-类耗时:&#34;</span> + stopwatch.Elapsed.TotalMilliseconds);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;---------------------------------------------------&#34;</span> );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            stopwatch.Restart(); <span style="color:#75715e">//  开始监视代码运行时间</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">10000000</span>; i++)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                c_dic.Add(i.ToString(), cDatas[i]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            stopwatch.Stop(); <span style="color:#75715e">//  停止监视</span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;Add-类耗时:&#34;</span> + stopwatch.Elapsed.TotalMilliseconds);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            stopwatch.Restart(); <span style="color:#75715e">//  开始监视代码运行时间</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">10000000</span>; i++)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                s_dic.Add(i.ToString(), sDatas[i]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            stopwatch.Stop(); <span style="color:#75715e">//  停止监视</span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;Add-结构体耗时:&#34;</span> + stopwatch.Elapsed.TotalMilliseconds);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;---------------------------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            stopwatch.Restart(); <span style="color:#75715e">//  开始监视代码运行时间</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">10000000</span>; i++)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                s_dic.TryGetValue(i.ToString(),<span style="color:#66d9ef">out</span> sData);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            stopwatch.Stop(); <span style="color:#75715e">//  停止监视</span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;TryGetValue-结构体耗时:&#34;</span> + stopwatch.Elapsed.TotalMilliseconds);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            stopwatch.Restart(); <span style="color:#75715e">//  开始监视代码运行时间</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">10000000</span>; i++)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                c_dic.TryGetValue(i.ToString(), <span style="color:#66d9ef">out</span> cData);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            stopwatch.Stop(); <span style="color:#75715e">//  停止监视</span>
</span></span><span style="display:flex;"><span>            Console.WriteLine(<span style="color:#e6db74">&#34;TryGetValue-类耗时:&#34;</span> + stopwatch.Elapsed.TotalMilliseconds);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            Console.ReadKey();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>new的速度是类&lt;结构体;add的速度是类&lt;结构体;TryGetValue的速度是类&gt;结构体;如下图所示：
<img src="/img/post/Gameframework/config/exp1.png" alt="exp1">
具体是不是拆箱和装箱导致的不太确定,为了对文章的言论负责,后期会复习和分析所有数据结构的实现,来佐证这里的猜想~</p>

                    <audio id="audio" loop="1" preload="auto" style="width: 100%;" controls="controls">
                        <source type="audio/mpeg" src="/mp3/%e5%a5%b9%e6%9b%be%e6%b4%bb%e8%bf%87%e5%95%8a.mp3">
                        <a href="/mp3/%e5%a5%b9%e6%9b%be%e6%b4%bb%e8%bf%87%e5%95%8a.mp3">/mp3/她曾活过啊.mp3</a>
                    </audio>
                </div>
            </div>
        </div>
    </div>
    <div class="relate">
        <ul >
            <h3 id="prev_next">
                <em>相 关 文 章</em>
                <span>
                    <a href="javascript: window.scrollTo(0, 0);">
                    返回顶部</a>
                    
                        <a href="https://daveant.github.io/posts/%E6%B8%B8%E6%88%8F%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%A6/" rel="prev">上一篇</a>
                    
                    
                        <a href="https://daveant.github.io/posts/%E5%9D%90%E6%A0%87%E7%A9%BA%E9%97%B4%E5%8F%98%E6%8D%A2/" rel="next">下一篇</a>
                    
                </span>
            </h3>
            
            
            
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/Gameframework-TaskPool%E5%88%9D%E6%8E%A2%E7%AF%87/" title="Gameframework-TaskPool初探篇">
                            Gameframework-TaskPool初探篇</a>
                            <p>构思中&hellip;...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/Gameframework-TaskPool%E5%88%9D%E6%8E%A2%E7%AF%87/" title="Gameframework-TaskPool初探篇">
                            <img class="relateimg" src="/img/title/Gameframework/wallhaven_19.jpg" alt="Gameframework-TaskPool初探篇">
                        </a>
                    </li>
                    
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/Gameframework-Scene%E5%88%9D%E6%8E%A2%E7%AF%87/" title="Gameframework-Scene初探篇">
                            Gameframework-Scene初探篇</a>
                            <p>前言 Scene是特殊的资源,加载场景时会用到Unity自带的SceneManager实现场景加载,S...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/Gameframework-Scene%E5%88%9D%E6%8E%A2%E7%AF%87/" title="Gameframework-Scene初探篇">
                            <img class="relateimg" src="/img/title/Gameframework/wallhaven_17.jpg" alt="Gameframework-Scene初探篇">
                        </a>
                    </li>
                    
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/Gameframework-Config%E8%BF%9B%E9%98%B6%E7%AF%87/" title="Gameframework-Config进阶篇">
                            Gameframework-Config进阶篇</a>
                            <p>前言 初探篇分析了重写配置模块的思路,按照之前分析的思路尝试重写配置模块,然后为GF配置模块添加xls...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/Gameframework-Config%E8%BF%9B%E9%98%B6%E7%AF%87/" title="Gameframework-Config进阶篇">
                            <img class="relateimg" src="/img/title/Gameframework/wallhaven_13.jpg" alt="Gameframework-Config进阶篇">
                        </a>
                    </li>
                    
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/Gameframework-Resource%E7%83%AD%E6%9B%B4%E6%96%B0/" title="Gameframework-Resource热更新">
                            Gameframework-Resource热更新</a>
                            <p>正在构思中&hellip;...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/Gameframework-Resource%E7%83%AD%E6%9B%B4%E6%96%B0/" title="Gameframework-Resource热更新">
                            <img class="relateimg" src="/img/title/Gameframework/wallhaven_14.jpg" alt="Gameframework-Resource热更新">
                        </a>
                    </li>
                    
                
                    
                
            
        </ul>
    </div>
</div>
    
  <div class="post-comment" style="max-width:720px;margin: 0 auto;background:transparent;background-color:rgba(255,255,255,0.8);" id="single">
    
    <img src="/img/inner/icon-comment.png" style="display:inline-block;vertical-align:middle;"/>
    <span style="font-size: 22px;font-weight: 700;vertical-align:middle;"> 评论 </span>
    <div id="vcomments">
        <script type="text/javascript">
            $.getScript('/js/Valine.min.js', function() {
              new Valine({
                el: '#vcomments' ,
                appId: 'qzl794vHGf8vva0aofpshidh-gzGzoHsz',
                appKey: 'r9iB1MRnpaWEdKfUkk2FhWtg',
                notify: 'false', 
                verify: 'false', 
                avatar:'robohash', 
                placeholder: '小问号你是否有很多朋友？(注:回复会通过邮箱通知,填写邮箱才可生效。)',
                visitor: 'true'
            });
          });
        </script>       
    </div>
  </div>
<script src="https://s3.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
	
var siteTitle = "星空城下无君王";
var homePage = "https://daveant.github.io/";

var userAgentInfo = navigator.userAgent;
var Agents = ["Android", "iPhone",
    "SymbianOS", "Windows Phone", "iPod"];
var isMobile = false;
for (var v = 0; v < Agents.length; v++) {
	if (userAgentInfo.indexOf(Agents[v]) > 0) {
	  isMobile = true;
	  break;
	}
}
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            TAGS: '便签',
        },
        ROOT_URL: "https://daveant.github.io/",
        CONTENT_URL: '/lunr.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);	

</script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<script src="/js/wallpaperDefine.js"></script>
<script src="/js/InsightSearch.js"></script>
<script src="/js/live2d-main.js"></script>
<script src="/js/waifu-tips.js"></script>
<script src="/js/wallhaven.js"></script></body>
</html>

