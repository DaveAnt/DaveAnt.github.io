<!DOCTYPE html>
<html><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate">
  <title>è¿­ä»£å™¨æ¨¡å¼ &middot; æ˜Ÿç©ºåŸä¸‹æ— å›ç‹</title>
  <meta name="keywords" content="æ˜Ÿç©ºåŸä¸‹æ— å›ç‹, GFæ•™ç¨‹, ETæ•™ç¨‹, XLuaæ•™ç¨‹, Unityæ¸¸æˆå¼€å‘æ•™ç¨‹">
  <meta name="description" content="DaveAntçš„æ¸¸æˆå¼€å‘åˆ†äº«ç«™">
  <meta name="author" content="DaveAnt">
  <link rel="icon" type="image/png" href="https://daveant.github.io/favicon.ico">
  <link rel="stylesheet" href="/css/diaspora.css">
  <link rel="stylesheet" href="/css/insight.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="stylesheet" href="/css/waifu.css">
  <link rel="stylesheet" href="/css/qplayer.css">
  <link rel="stylesheet" href="/css/qplayer.init.css">
  <script src="/js/qplayer.js"></script>
  <script src="/js/qplayer.init.js"></script>  
</head>
<div class="waifu">
<div class="waifu-tips"></div>
<div class="waifu-tool">
    <span class="fui-home"></span>
    <span class="fui-top"></span>
    <span class="fui-chat"></span>
    <span class="fui-user"></span>
    <span class="fui-eye"></span>
    <span class="fui-cross"></span>
</div>
</div><body class="loading">
        <div id="loading"></div>
				<div id="nav"></div>
				<div class="nav-user"></div>
	
	
	
	
	
	
		<div class="toc-container" id="single">
		    <div class="toc">
				<aside class="toc-list">
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#%e5%89%8d%e8%a8%80">
				                            å‰è¨€
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#1%e4%bd%bf%e7%94%a8c%e6%8e%a5%e5%8f%a3%e5%ae%9e%e7%8e%b0%e8%bf%ad%e4%bb%a3%e5%99%a8">
				                            1.ä½¿ç”¨C#æ¥å£å®ç°è¿­ä»£å™¨
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#2%e4%b8%8d%e7%94%a8net%e6%8e%a5%e5%8f%a3%e4%bc%9a%e6%80%8e%e4%b9%88">
				                            2.ä¸ç”¨.Netæ¥å£ä¼šæ€ä¹ˆï¼Ÿ
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#3%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1%e4%b9%8b%e5%b7%a7%e5%a6%99">
				                            3.æ¥å£è®¾è®¡ä¹‹å·§å¦™
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#%e6%80%bb%e7%bb%93">
				                            æ€»ç»“
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#1%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%bc%98%e7%bc%ba%e7%82%b9">
				                            1.è¿­ä»£å™¨ä¼˜ç¼ºç‚¹:
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				        
				            
				                
				                
				                    
				                    <ul>
				                    
				                    <ul>
				                    
				                    
				                        <li>
				                            <a class="toc-link" href="#2%e8%bf%ad%e4%bb%a3%e5%99%a8%e7%9a%84%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af">
				                            2.è¿­ä»£å™¨çš„ä½¿ç”¨åœºæ™¯:
				                            </a>
				                        </li>
				                    
				                    </ul>
				                    
				                    </ul>
				                    
				                
				            
				        
				</aside>
		    </div>
		</div>
	

    <div id="single">
    <div id="top" style="display: block;">
        <div class="bar">
        </div>
        <a title="è¿”å›é¦–é¡µ" class="icon-home" href="javascript:history.back()"></a>
        <div title="æ’­æ”¾/æš‚åœ" class="icon-play">
        </div>
        
        <h3 class="subtitle" style="display: none;">
        è¿­ä»£å™¨æ¨¡å¼</h3>
        <div class="social">
            <div>
                <div class="share">
                    <a title="æ‰“èµä½œè€…[å¾®ä¿¡]" class="icon-wechat" href="javascript:;"></a>
                    <a title="æ‰“èµä½œè€…[æ”¯ä»˜å®]" class="icon-alipay" href="javascript:;"></a>
                </div>
                <div id="wechatpay"> <img src="/img/inner/wechatpay.jpg"/> </div>
                <div id="alipay"> <img src="/img/inner/alipay.jpg"/> </div>
            </div>
        </div>
        <div class="scrollbar" style="width: 1.1636%;"></div>
    </div>
    <div class="section">
        <div class="article">
            <div style="background:transparent;background-color:rgba(255,255,255,0.8);">
                <h1 class="title">
                è¿­ä»£å™¨æ¨¡å¼</h1>
                <div class="stuff">
                    <span>March 23, 2020</span>
                    <span>å­—æ•° 2279</span>
                                  
                    <span id="/posts/è¿­ä»£å™¨æ¨¡å¼/" class="leancloud_visitors" data-flag-title="è¿­ä»£å™¨æ¨¡å¼">
                        <i class="leancloud-visitors-count">æé€Ÿæ¨¡å¼</i>
                    </span>
                    
                </div>
                <div class="content">
                    <!--cover: /img/title/DesignPattern/wallhaven_24.jpg
cover: https://pics.images.ac.cn/image/5eb54cee8320e.html-->
<h2 id="å‰è¨€">å‰è¨€</h2>
<blockquote>
<p>C#ä¸­æ•°æ®ç»“æ„éƒ½å®ç°äº†è¿­ä»£å™¨çš„åŠŸèƒ½,å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„,æ¥ä¸‹æ¥å°±ç”±æ­¤ç¯‡æ–‡ç« å»ä»‹ç»ä¸€ä¸‹C#æ˜¯å¦‚ä½•å®ç°è¿­ä»£å™¨çš„,ä»ä½¿ç”¨C#è‡ªèº«æä¾›çš„æ¥å£å†åˆ°ä»0åˆ°1åˆ›å»ºå‡ºè¿­ä»£å™¨ã€‚</p>
</blockquote>
<h2 id="1ä½¿ç”¨cæ¥å£å®ç°è¿­ä»£å™¨">1.ä½¿ç”¨C#æ¥å£å®ç°è¿­ä»£å™¨</h2>
<p>éšä¾¿æ‰¾ä¸€ä¸ªC#å®ç°çš„æ•°æ®ç»“æ„,æ¯”å¦‚çœ‹çœ‹åˆ—è¡¨æ˜¯å¦‚ä½•å®ç°çš„è¿­ä»£å™¨åŠŸèƒ½çš„,å…¶å®ç½‘ä¸Šèµ„æ–™è¯´è¦å®ç°è¿­ä»£å™¨,C#å·²ç»ç»™å‡ºäº†2ä¸ªæ¥å£,ä¸€ä¸ªæ˜¯IEumeratorè¿˜æœ‰ä¸€ä¸ªæ˜¯IEnumerableã€‚æ¥çœ‹çœ‹Listæœ‰æ²¡æœ‰ç»§æ‰¿è¿™äº›æ¥å£,é¦–å…ˆCtrl+Clickè¿›å…¥Listå®ç°çš„ä»£ç ä¸­,æŸ¥çœ‹ä¸€ä¸‹Liståˆ°åº•å¦‚ä½•å®šä¹‰çš„,å…·ä½“æƒ…å†µå¦‚ä¸‹:
<img src="/img/post/DesignPattern/iterator/exp1.png" alt="exp1">
åˆ—è¡¨ç¡®å®ç»§æ‰¿å¹¶å®ç°äº†æ¥å£æ–¹æ³•,æ¥ä¸‹æ¥è‡ªå®šä¹‰ä¸€ä¸ªè¿­ä»£å™¨å»å®ç°è¿™äº›æ¥å£,çœ‹çœ‹è¿™äº›æ¥å£åˆ°åº•æ‹Ÿå®šäº†é‚£äº›æ–¹æ³•,è¿™äº›æ–¹æ³•çš„åŠŸèƒ½åˆæ˜¯ä»€ä¹ˆ,æ¥ä¸‹æ¥å°†ä¸€ä¸€è¯´æ˜,é¦–å…ˆå®ç°è¿™äº›æ¥å£,å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Enumerable</span>&lt;T&gt; : IEnumerable&lt;T&gt;
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> T[] values;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> Int32 startingPoint;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> Enumerable(T[] values, Int32 startingPoint)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.values = values;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.startingPoint = startingPoint;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> IEnumerator GetEnumerator()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Enumerator&lt;T&gt;(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        IEnumerator&lt;T&gt; IEnumerable&lt;T&gt;.GetEnumerator()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Enumerator&lt;T&gt;(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Enumerator</span>&lt;T&gt; : IEnumerator&lt;T&gt;
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Enumerable&lt;T&gt; parent;<span style="color:#75715e">//è¿­ä»£çš„å¯¹è±¡  #1</span>
</span></span><span style="display:flex;"><span>        Int32 position;<span style="color:#75715e">//å½“å‰æ¸¸æ ‡çš„ä½ç½® #2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">internal</span> Enumerator(Enumerable&lt;T&gt; parent)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.parent = parent;
</span></span><span style="display:flex;"><span>            position = -<span style="color:#ae81ff">1</span>;<span style="color:#75715e">// æ•°ç»„å…ƒç´ ä¸‹æ ‡ä»0å¼€å§‹,åˆå§‹æ—¶é»˜è®¤å½“å‰æ¸¸æ ‡è®¾ç½®ä¸º -1,å³åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰, #3</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">bool</span> MoveNext()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (position != parent.values.Length) <span style="color:#75715e">//åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦ä¸ºæœ€åä¸€ä¸ª,å¦‚æœä¸æ˜¯æ¸¸æ ‡è‡ªå¢ #4</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                position++;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> position &lt; parent.values.Length;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> T Current
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">get</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (position == -<span style="color:#ae81ff">1</span> || position == parent.values.Length)<span style="color:#75715e">//ç¬¬ä¸€ä¸ªä¹‹å‰å’Œæœ€åä¸€ä¸ªè‡ªåçš„è®¿é—®éæ³• #5</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> InvalidOperationException();
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                Int32 index = position + parent.startingPoint;<span style="color:#75715e">//è€ƒè™‘è‡ªå®šä¹‰å¼€å§‹ä½ç½®çš„æƒ…å†µ  #6</span>
</span></span><span style="display:flex;"><span>                index = index % parent.values.Length;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> parent.values[index];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">object</span> IEnumerator.Current =&gt; <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> NotImplementedException();
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Reset()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            position = -<span style="color:#ae81ff">1</span>;<span style="color:#75715e">//å°†æ¸¸æ ‡é‡ç½®ä¸º-1  #7</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Dispose()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> NotImplementedException();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>è¿™æ ·å°±å®ç°äº†è¿­ä»£å™¨,è¿™ä¸¤ä¸ªæ¥å£åˆ°åº•å®ç°äº†é‚£äº›æ–¹æ³•å‘¢ï¼Ÿä¸‹é¢å°†ç»™å‡ºè¡¨æ ¼:</p>
<table>
<thead>
<tr>
<th>æ¥å£</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td>GetEnumerator</td>
<td>è·å–è¿­ä»£å™¨æœ¬èº«</td>
</tr>
<tr>
<td>MoveNext</td>
<td>è¿­ä»£å™¨ä¸‹ç§»,è¿”å›æ˜¯å¦å¯ä»¥ç»§ç»­è¿­ä»£çš„çŠ¶æ€</td>
</tr>
<tr>
<td>Current</td>
<td>è·å–è¿­ä»£å™¨å½“å‰çš„å€¼</td>
</tr>
<tr>
<td>Reset</td>
<td>é‡ç½®è¿­ä»£å™¨</td>
</tr>
</tbody>
</table>
<p>æ¥ä¸‹æ¥å°è¯•ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰çš„è¿­ä»£å™¨,å› ä¸ºå®ç°äº†.Netè‡ªå¸¦çš„IEnumerableæ¥å£çš„é›†åˆ,å¯ä»¥ç›´æ¥ä½¿ç”¨foreachå°±å¾ˆæ–¹ä¾¿,ä¸ç„¶åªèƒ½ä½¿ç”¨forå¾ªç¯å»è°ƒç”¨,å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#66d9ef">string</span>[] values = { <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span> };
</span></span><span style="display:flex;"><span>Enumerable&lt;<span style="color:#66d9ef">string</span>&gt; collection = <span style="color:#66d9ef">new</span> Enumerable&lt;<span style="color:#66d9ef">string</span>&gt;(values, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">foreach</span> (<span style="color:#66d9ef">string</span> x <span style="color:#66d9ef">in</span> collection)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Console.WriteLine(x);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å¯èƒ½ä¼šå¼€å§‹æ€è€ƒ,å»å®ç°IEnumeratoræ¥å£å¥½åƒæ²¡æœ‰å¿…è¦,å› ä¸ºå¤§éƒ¨åˆ†è¿­ä»£å™¨å»ç»§æ‰¿è¿™ä¸ªæ¥å£å®ç°é€»è¾‘åŸºæœ¬å·®ä¸å¤šçš„,æˆ‘ä»¬åˆä¸éœ€è¦å®ç°ç‰¹æ®Šçš„é€»è¾‘çš„è¯,éš¾é“æ¡†æ¶æ²¡æœ‰æä¾›ä¸€ä¸ªé»˜è®¤è¿­ä»£å™¨å—ï¼Ÿå“ˆå“ˆå“ˆå“ˆ,å‘Šè¯‰å¤§å®¶è¿˜çœŸçš„æä¾›äº†ä¸€ä¸ªé»˜è®¤çš„æ–¹å¼,æŠŠIEnumeratorå»æ‰,ä¿®æ”¹GetEnumeratorçš„å®ç°å³å¯,å…·ä½“ä»£ç æ®µå¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> IEnumerator GetEnumerator()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> index = <span style="color:#ae81ff">0</span>; index &lt; <span style="color:#66d9ef">this</span>.values.Length; index++)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> values[(index + startingPoint) % values.Length];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>yield returnå’Œæ™®é€šçš„returnå¯æ˜¯ä¸ä¸€æ ·,å®ƒè¿”å›äº†é»˜è®¤çš„è¿­ä»£å—,å®é™…ä¸Šå½“ç¼–è¯‘å™¨é‡åˆ°yield returnè¿”å›çš„è¿­ä»£å—æ—¶,å®ƒåˆ›å»ºäº†ä¸€ä¸ªå·²ç»å®ç°çš„å†…éƒ¨é»˜è®¤è¿­ä»£å™¨ç±»ã€‚è¿™ä¸ªç±»è®°ä½äº†èšåˆå¯¹è±¡çš„å½“å‰ä½ç½®ä»¥åŠæœ¬åœ°å˜é‡,åŒ…æ‹¬å‚æ•°ç­‰ç­‰,è¿™ä¸ªé»˜è®¤ç±»å®é™…ä¸Šç±»ä¼¼ä¸æˆ‘ä»¬ä¸Šé¢ç»§æ‰¿IEnumeratoræ¥å£å®ç°å‡ºçš„ç±»ã€‚</p>
<h2 id="2ä¸ç”¨netæ¥å£ä¼šæ€ä¹ˆ">2.ä¸ç”¨.Netæ¥å£ä¼šæ€ä¹ˆï¼Ÿ</h2>
<p>å…¶å®æ²¡æœ‰ä»»ä½•é—®é¢˜,å’±ä»¬å°è¯•ä¸€ä¸‹å³å¯,é¦–å…ˆå®šä¹‰ä¸€ä¸‹æ¥å£,ç„¶åå®Œå…¨é è‡ªå·±å»å®ç°è¿­ä»£å™¨ä¼šæ€ä¹ˆæ ·,å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IMEnumerator</span>&lt;T&gt;
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> MoveNext();
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    T Current { <span style="color:#66d9ef">get</span>; }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> Reset();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IMEnumerable</span>&lt;T&gt;
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    IMEnumerator&lt;T&gt; GetEnumerator();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç„¶åç»§æ‰¿ä¸Šé¢å®šä¹‰çš„æ¥å£,å…·ä½“å®ç°è¿™äº›æ¥å£çš„æ–¹å¼æ˜¯ä¸€æ ·çš„,å”¯ä¸€ä¸åŒçš„æ˜¯è°ƒç”¨ä»£ç æ—¶ä¸èƒ½ä½¿ç”¨foreach,ä½ éƒ½ä¸ç”¨.Netæ¡†æ¶æä¾›çš„æ¥å£äº†,è¿˜æƒ³è¦foreachè¯­æ³•ç»“æ„æ¸…æ™°çš„è°ƒç”¨è¿­ä»£å™¨,é†’ä¸€ä¸‹é†’ä¸€ä¸‹,ç›´æ¥ä½¿ç”¨forè¯­è¨€è°ƒç”¨è¿­ä»£å™¨ç®—äº†,å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#66d9ef">string</span>[] values = { <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span> };
</span></span><span style="display:flex;"><span>Enumerable&lt;<span style="color:#66d9ef">string</span>&gt; collection = <span style="color:#66d9ef">new</span> Enumerable&lt;<span style="color:#66d9ef">string</span>&gt;(values, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(Enumerator&lt;<span style="color:#66d9ef">string</span>&gt; iter = collection.GetEnumerator(); iter.MoveNext();){
</span></span><span style="display:flex;"><span>    Console.WriteLine(iter.Current);
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div><h2 id="3æ¥å£è®¾è®¡ä¹‹å·§å¦™">3.æ¥å£è®¾è®¡ä¹‹å·§å¦™</h2>
<p>æœ‰æ²¡æœ‰æƒ³è¿‡,ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡å‡º2ä¸ªæ¥å£,ä¸€ä¸ªæ˜¯IEumeratorè¿˜æœ‰ä¸€ä¸ªæ˜¯IEnumerable,å› ä¸ºIEumeratorç›¸å½“äºæ•°æ®å±‚å’Œè·å–è¿­ä»£å—çš„æ¥å£,IEnumerableç›¸å½“äºå®é™…è¿­ä»£å—è®°å½•çŠ¶æ€çš„æ¥å£,è¿™æ ·è®¾è®¡æ›´åŠ çš„å„å¸å…¶èŒ,ä»£ç æ›´å¥½çš„è§£è€¦ã€‚è¿­ä»£å™¨æä¾›äº†ä¸€ç§æ–¹æ³•æŒ‰ç…§æŸç§é¡ºåºè®¿é—®å¯¹è±¡ç»„ä¸­å„ä¸ªå…ƒç´ , è€Œåˆæ— é¡»æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨ç»“æ„çš„è®¾è®¡æ–¹å¼ã€‚å¦‚æœéè¦æŠŠä¸¤ä¸ªæ¥å£åˆèµ·æ¥å®ç°ä¼šæœ‰é—®é¢˜å—ï¼Ÿç­”æ¡ˆå°±æ˜¯é—®é¢˜ä¸å¤§,å’±ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹,å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Enumerator</span>&lt;T&gt; : IEnumerator&lt;T&gt;
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> T[] values;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> Int32 startingPoint;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> Enumerator(T[] values, Int32 startingPoint)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.values = values;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.startingPoint = startingPoint;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Int32 position;<span style="color:#75715e">//å½“å‰æ¸¸æ ‡çš„ä½ç½® #2</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">bool</span> MoveNext()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (position != values.Length) <span style="color:#75715e">//åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦ä¸ºæœ€åä¸€ä¸ª,å¦‚æœä¸æ˜¯æ¸¸æ ‡è‡ªå¢ #4</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                position++;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> position &lt; values.Length;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> T Current
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">get</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (position == -<span style="color:#ae81ff">1</span> || position == values.Length)<span style="color:#75715e">//ç¬¬ä¸€ä¸ªä¹‹å‰å’Œæœ€åä¸€ä¸ªè‡ªåçš„è®¿é—®éæ³• #5</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> InvalidOperationException();
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                Int32 index = position + startingPoint;<span style="color:#75715e">//è€ƒè™‘è‡ªå®šä¹‰å¼€å§‹ä½ç½®çš„æƒ…å†µ  #6</span>
</span></span><span style="display:flex;"><span>                index = index % values.Length;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> values[index];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">object</span> IEnumerator.Current =&gt; <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> NotImplementedException();
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Reset()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            position = -<span style="color:#ae81ff">1</span>;<span style="color:#75715e">//å°†æ¸¸æ ‡é‡ç½®ä¸º-1  #7</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>è¿™æ ·å¯ä»¥å—ï¼Ÿè¿­ä»£å™¨ç”¨å®Œä»¥å,ä¸è¦æŠŠå®ƒé‡Šæ”¾äº†,é‡ç½®ä¸€ä¸‹è¿­ä»£å™¨çŠ¶æ€,ä»¥ä¸Šä»£ç ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿­ä»£è·å–æ•°æ®çš„ã€‚ä½†æ˜¯ä¸‡ä¸€ä»¥åè¿™ä¸ªèšåˆæ•°æ®éœ€è¦æ¢ä¸ªè¿­ä»£æ–¹å¼,æ˜¯ç›´æ¥ä¿®æ”¹è¿™ä¸ªç±»æ¯”è¾ƒå¥½å‘¢,è¿˜æ˜¯å•ç‹¬å®ç°ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨,ç„¶åä¿®æ”¹GetEnumeratorè·å–è¿­ä»£å™¨çš„æ–¹å¼æ¯”è¾ƒå¥½å‘¢(ä¸‡ä¸€äº§å“ç»ç†åˆè¯´æŠŠè¿­ä»£å™¨æ”¹å›æ¥æ€ä¹ˆåŠï¼Ÿå¯èƒ½æœ‰äººæŠ¬æ ,æŠŠä»£ç å›æ»šä¸€ä¸‹ä¸å°±è¡Œäº†(å¯¹å¯¹å¯¹å°±æ˜¯ä½ ,èµ¶ç´§æ»šç²—å»ğŸ™ƒ))ã€‚æ‰€ä»¥æ•°æ®å±‚å’Œè¿­ä»£å™¨çš„æœ¬èº«åˆ†å¼€å®ç°æ¯”è¾ƒå¥½,ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼å¯ä»¥è½»æ˜“çš„æ¢ä¸ªè¿­ä»£å™¨(é€šè¿‡ä¿®æ”¹GetEnumeratorå‡½æ•°)ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<h2 id="1è¿­ä»£å™¨ä¼˜ç¼ºç‚¹">1.è¿­ä»£å™¨ä¼˜ç¼ºç‚¹:</h2>
<p>ä¼˜ç‚¹:1ã€è¿­ä»£å™¨æ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡,ç®€åŒ–äº†èšåˆç±»ã€‚ 2ã€åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­,å¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿,æ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ã€‚<br>
ç¼ºç‚¹:ç”±äºè¿­ä»£å™¨æ¨¡å¼å°†å­˜å‚¨æ•°æ®å’Œéå†æ•°æ®çš„èŒè´£åˆ†ç¦»,å¢åŠ æ–°çš„èšåˆç±»éœ€è¦å¯¹åº”å¢åŠ æ–°çš„è¿­ä»£å™¨ç±»,ç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ,è¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚</p>
<h2 id="2è¿­ä»£å™¨çš„ä½¿ç”¨åœºæ™¯">2.è¿­ä»£å™¨çš„ä½¿ç”¨åœºæ™¯:</h2>
<p>1.éœ€è¦ä¸ºé›†åˆå¯¹è±¡æä¾›å¤šç§éå†æ–¹å¼ã€‚<br>
2.ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£</p>

                    <audio id="audio" loop="1" preload="auto" style="width: 100%;" controls="controls">
                        <source type="audio/mpeg" src="/mp3/%e5%a5%b9%e6%9b%be%e6%b4%bb%e8%bf%87%e5%95%8a.mp3">
                        <a href="/mp3/%e5%a5%b9%e6%9b%be%e6%b4%bb%e8%bf%87%e5%95%8a.mp3">/mp3/å¥¹æ›¾æ´»è¿‡å•Š.mp3</a>
                    </audio>
                </div>
            </div>
        </div>
    </div>
    <div class="relate">
        <ul >
            <h3 id="prev_next">
                <em>ç›¸ å…³ æ–‡ ç« </em>
                <span>
                    <a href="javascript: window.scrollTo(0, 0);">
                    è¿”å›é¡¶éƒ¨</a>
                    
                        <a href="https://daveant.github.io/posts/Gameframework-Localization%E5%88%9D%E6%8E%A2%E7%AF%87/" rel="prev">ä¸Šä¸€ç¯‡</a>
                    
                    
                        <a href="https://daveant.github.io/posts/Gameframework-ObjectPool%E5%88%9D%E6%8E%A2%E7%AF%87/" rel="next">ä¸‹ä¸€ç¯‡</a>
                    
                </span>
            </h3>
            
            
            
                
                    
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" title="ä»£ç†æ¨¡å¼">
                            ä»£ç†æ¨¡å¼</a>
                            <p>å‰è¨€ ä»£ç†æ¨¡å¼ä¸»è¦æ˜¯ç”¨æ¥å¯¹ç›®æ ‡å¯¹è±¡è®¿é—®æƒé™çš„æ§åˆ¶,æ¯”å¦‚æ¸¸æˆå•†åŸé‡Œè´­ä¹°é“å…·æ—¶,é€šè¿‡ä»£ç†ç±»å»åˆ¤æ–­ç©å®¶æ˜¯å¦å¯...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" title="ä»£ç†æ¨¡å¼">
                            <img class="relateimg" src="/img/title/DesignPattern/wallhaven_4.jpg" alt="ä»£ç†æ¨¡å¼">
                        </a>
                    </li>
                    
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" title="å•ä¾‹æ¨¡å¼">
                            å•ä¾‹æ¨¡å¼</a>
                            <p>å‰è¨€ å•ä¾‹æ¨¡å¼æœ‰äºŒç§,é¥¿æ±‰æ¨¡å¼å’Œæ‡’æ±‰æ¨¡å¼ã€‚è¿™é‡Œå°†å»å®ç°å•ä¾‹æ¨¡å¼çš„è¿™äº›ä¾‹å­,ç„¶ååˆ†æå®ƒä»¬çš„ä¼˜ç¼ºç‚¹å’Œä½¿ç”¨åœº...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" title="å•ä¾‹æ¨¡å¼">
                            <img class="relateimg" src="/img/title/DesignPattern/wallhaven_5.jpg" alt="å•ä¾‹æ¨¡å¼">
                        </a>
                    </li>
                    
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/" title="åŸå‹æ¨¡å¼">
                            åŸå‹æ¨¡å¼</a>
                            <p>å‰è¨€ åŸå‹æ¨¡å¼æ˜¯ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡,å½“ç±»é‡Œæœ‰å¾ˆå¤šå¤æ‚å‚æ•°çš„æ—¶å€™,æˆ‘ä»¬å¯ä»¥é¿å…ä½¿ç”¨æ‹·è´(èµ‹å€¼)æ„é€ å‡½æ•°,...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/" title="åŸå‹æ¨¡å¼">
                            <img class="relateimg" src="/img/title/DesignPattern/wallhaven_19.jpg" alt="åŸå‹æ¨¡å¼">
                        </a>
                    </li>
                    
                
                    
                    <li>
                        <div>
                            <a class="relatea" href="https://daveant.github.io/posts/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/" title="å‘½ä»¤æ¨¡å¼">
                            å‘½ä»¤æ¨¡å¼</a>
                            <p>å‰è¨€ å‘½ä»¤æ¨¡å¼å¯ä»¥å®ç°æ“ä½œçš„å‰è¿›å’Œå›æ»š,ç»å¸¸ä½¿ç”¨På›¾è½¯ä»¶çš„ç”¨æˆ·ä¸€å®šçŸ¥é“è½¯ä»¶æä¾›äº†å¯¹æ“ä½œå‰è¿›å’Œå›æ»šçš„åŠŸèƒ½...</p>
                        </div>
                        
                        <a href="https://daveant.github.io/posts/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/" title="å‘½ä»¤æ¨¡å¼">
                            <img class="relateimg" src="/img/title/DesignPattern/wallhaven_7.jpg" alt="å‘½ä»¤æ¨¡å¼">
                        </a>
                    </li>
                    
                
            
        </ul>
    </div>
</div>
    
  <div class="post-comment" style="max-width:720px;margin: 0 auto;background:transparent;background-color:rgba(255,255,255,0.8);" id="single">
    
    <img src="/img/inner/icon-comment.png" style="display:inline-block;vertical-align:middle;"/>
    <span style="font-size: 22px;font-weight: 700;vertical-align:middle;"> è¯„è®º </span>
    <div id="vcomments">
        <script type="text/javascript">
            $.getScript('/js/Valine.min.js', function() {
              new Valine({
                el: '#vcomments' ,
                appId: 'qzl794vHGf8vva0aofpshidh-gzGzoHsz',
                appKey: 'r9iB1MRnpaWEdKfUkk2FhWtg',
                notify: 'false', 
                verify: 'false', 
                avatar:'robohash', 
                placeholder: 'å°é—®å·ä½ æ˜¯å¦æœ‰å¾ˆå¤šæœ‹å‹ï¼Ÿ(æ³¨:å›å¤ä¼šé€šè¿‡é‚®ç®±é€šçŸ¥,å¡«å†™é‚®ç®±æ‰å¯ç”Ÿæ•ˆã€‚)',
                visitor: 'true'
            });
          });
        </script>       
    </div>
  </div>
<script src="https://s3.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
	
var siteTitle = "æ˜Ÿç©ºåŸä¸‹æ— å›ç‹";
var homePage = "https://daveant.github.io/";

var userAgentInfo = navigator.userAgent;
var Agents = ["Android", "iPhone",
    "SymbianOS", "Windows Phone", "iPod"];
var isMobile = false;
for (var v = 0; v < Agents.length; v++) {
	if (userAgentInfo.indexOf(Agents[v]) > 0) {
	  isMobile = true;
	  break;
	}
}
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            TAGS: 'ä¾¿ç­¾',
        },
        ROOT_URL: "https://daveant.github.io/",
        CONTENT_URL: '/lunr.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);	

</script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<script src="/js/wallpaperDefine.js"></script>
<script src="/js/InsightSearch.js"></script>
<script src="/js/live2d-main.js"></script>
<script src="/js/waifu-tips.js"></script>
<script src="/js/wallhaven.js"></script></body>
</html>

